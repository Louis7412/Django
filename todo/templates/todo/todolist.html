{% extends "base.html" %}
{% block title %}
代辦事項
{% endblock %}
{% block content %}
{{user.username}}
{{user.email}}
<h1 style="color: chocolate;">目前代辦事項</h1>
<hr>

{% if not todos %}
<h2 style="color: red;">請先登入或註冊 
    <br>
    <a href="{% url 'login' %}">登入</a>&nbsp;
    <a href="{% url 'register' %}">註冊</a>
</h2>
{% endif %}


{% for todo in todos %}
<small>{{todo.created}}</small>
    <h2>
        <a style="text-decoration: none;" href="{% url 'viewtodo' todo.id %}">
            {% if todo.important %}
            <span style="color: rgb(216, 177, 49);">(重要)</span>
            {% endif %}
            {{todo.title}}</a>
    </h2>
    <!-- linebreaks djange語法 行內文字換行 -->
    {% if todo.text %}
    <li>{{todo.text|linebreaks}}</li>
    {% endif %}

    {% if todo.date_completed %}
    <small style="color: rgb(24, 211, 108);">完成時間:{{todo.date_completed}}</small>
    {% endif %}
    <p>
    <a href="{% url 'viewtodo' todo.id %}">更新</a>
    <a href="{% url 'deletetodo' todo.id %}" onclick="return confirm('確認是否刪除?!')">刪除</a>
    </p>
    <hr>
{% endfor %}
{% endblock %}
